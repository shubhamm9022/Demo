<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Admin Panel</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
            </ul>
        </nav>
    </header>
    
    <section>
        <h2>Add New Movie</h2>
        <form id="movie-form">
            <input type="text" id="title" placeholder="Movie Title" required>
            <input type="text" id="poster" placeholder="Poster URL" required>
            <textarea id="description" placeholder="Movie Description" required></textarea>
            <input type="text" id="year" placeholder="Release Year" required>
            <input type="url" id="stream" placeholder="Stream Link" required>
            <input type="url" id="download" placeholder="Download Link" required>
            <button type="submit">Add Movie</button>
        </form>
    </section>
    
    <footer>
        <p>&copy; 2025 Movie Vault. All Rights Reserved.</p>
    </footer>

    <script src="admin.js"></script>
    <script>
    const sheetId = "1oDtwyGB7ArzmWtP81I2QeBNXAiEefgTOepAHqwRfNZs"; 
    const apiKey = "AIzaSyC7XmH1cTNmSwsIanm37X7o15eNfG39eEA";
    const sheetName = "Sheet1"; // Change if your sheet name is different

    async function addMovie() {
        const movieName = document.getElementById("movieName").value;
        const movieYear = document.getElementById("movieYear").value;
        const movieDesc = document.getElementById("movieDesc").value;
        const moviePoster = document.getElementById("moviePoster").value;
        const movieStream = document.getElementById("movieStream").value;
        const movieDownload = document.getElementById("movieDownload").value;

        const values = [
            [movieName, movieYear, movieDesc, moviePoster, movieStream, movieDownload, new Date().toLocaleString()]
        ];

        const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${sheetName}!A1:F1:append?valueInputOption=RAW&key=${apiKey}`;

        const response = await fetch(url, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ values })
        });

        if (response.ok) {
            alert("Movie added successfully!");
        } else {
            alert("Error adding movie.");
        }
    }
</script>
</body>
</html>
